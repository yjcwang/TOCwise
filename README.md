# TOC_GeminiNanoAI
Toggle Table of Content with Gemini Nano API; 

Chrome Extension;

For Chrome Built-In AI Hackathon 2025

├── manifest.json          ✅ (Chrome扩展配置文件)  
├── background.js          ✅ (后台脚本基础框架)  
├── content/  
│   ├── content.js         ✅ (内容脚本基础框架)  
│   └── segment.js         ✅ (分段处理脚本基础框架)  
├── ai/  
│   └── llm.js            ✅ (AI集成模块基础框架)  
├── sidebar/  
│   ├── sidebar.html      ✅ (侧边栏HTML基础框架)  
│   ├── sidebar.js        ✅ (侧边栏脚本基础框架)  
│   └── sidebar.css       ✅ (侧边栏样式基础框架)  
└── icons/                ✅ (图标文件夹)  


---

## 🧩 项目概述

**TOC_GeminiNanoAI** 是一个基于 Chrome 内置 AI（Gemini Nano）的智能目录生成插件。  
它可以在网页加载后自动分析页面内容，生成一个可点击跳转的语义目录，帮助用户快速理解长文本或聊天页面结构。

功能灵感来源于维基百科的导航栏：让用户在任何网页中都能拥有“整体概览 + 快速跳转”的能力。

---

## 🎯 项目目标（MVP 阶段）

- 自动检测网页并生成目录（无需用户手动触发）  
- 支持普通文章页面和聊天类页面  
- 使用 **本地 Gemini Nano AI** 为每个段落生成简短标题  
- 实现侧边栏展示与点击平滑跳转  
- 优先保证加载速度与交互流畅度  
- 在 Hackathon 中展示 Chrome 本地 AI 能力与交互设计整合

---

## ⚙️ 功能说明

### 1. 自动生成网页目录
- 插件自动检测当前网页是否为可解析页面。  
- 启动后自动扫描 DOM，识别页面主要内容区域。  
- 为每个语义段落生成锚点并绑定 AI 生成的标题。  
- 在右侧侧边栏实时显示目录结构。

### 2. AI 标题生成（本地 Gemini Nano）
- 使用本地内置 AI 模型 **Gemini Nano (<5B 参数)**。  
- 输入：每个段落文本（已裁剪、长度受限）。  
- 输出：简短关键词式标题（如“方法概述”、“结果讨论”）。  
- 不依赖网络或云端推理。  
- 仅在本地运行，保障隐私。

### 3. 分段策略
- 基于 HTML 结构（`<h1>`–`<h6>`、`<p>`、`<li>` 等）进行启发式分段。  
- 合并过短段落，切分过长段落。  
- 生成唯一锚点 ID（`toc-nano-<hash>`）。  
- 控制最大可分析内容上限，防止在聊天页面中过载。

### 4. 侧边栏展示
- 使用 Chrome 官方 **Side Panel API**，固定显示在右侧。  
- 展示 AI 生成的目录结构（层级、标题）。  
- 点击目录项 → 平滑滚动到网页对应段落。  
- 滚动时联动高亮当前段落。

### 5. 性能与体验
- 优先快速响应：页面加载后数秒内显示目录框架（可标注“生成中…”）。  
- 逐步填充标题，AI 生成异步更新。  
- 侧边栏交互流畅、视觉简洁（参考维基导航栏风格）。


## 🔄 工作流程

1. 用户打开网页 → 插件自动检测并注入内容脚本。  
2. `segment.js` 提取并分段网页正文。  
3. 段落信息发送到后台。  
4. `llm.js` 使用本地 Gemini Nano 生成每段标题。  
5. 生成结果返回并渲染到 `sidebar`。  
6. 用户点击侧边栏标题 → 页面平滑滚动到对应位置。  
7. 滚动页面时，当前段落在侧栏中高亮显示。

---

## ⚡ 设计优先级（MVP 阶段）

| 优先级 | 模块 | 目标 |
|---------|------|------|
| 🥇 高 | 自动分段与锚点生成 | 让网页能被结构化 |
| 🥇 高 | AI 标题生成（Gemini Nano） | 为每段生成语义标题 |
| 🥇 高 | 侧边栏展示与点击跳转 | 直观交互 |
| 🥈 中 | 滚动联动高亮 | 提升体验 |
| 🥉 低 | 外观美化 / 导出Markdown | 后期优化 |

---

## 🧑‍💻 团队与展示重点

- **团队人数**：2人  
  - 队友A：逻辑、分段算法、AI 调用  
  - 队友B：侧边栏UI、交互逻辑、Manifest配置  

- **Hackathon 目标**：  
  - 在 60–90 秒演示视频中完整展示：  
    1. 网页自动生成目录  
    2. AI 自动命名标题  
    3. 点击跳转 & 滚动联动  
  - 强调 Chrome + 本地AI 的整合与交互体验设计。

---

## ✨ 用户体验愿景

像维基百科导航栏一样，  
让用户在长网页或聊天对话中能一眼看清内容结构，  
快速跳转到感兴趣的部分，获得清晰的“语义地图”体验。

---
